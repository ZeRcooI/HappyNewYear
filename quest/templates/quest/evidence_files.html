{% extends 'quest/base.html' %}
{% load static %}

{% block title %}Files{% endblock %}

{% block main %}
  <div class="main-header">
    <div class="main-title">EVIDENCE FILES</div>
    <div class="main-meta">
      SYSTEM // FILE LIST Â· <a href="{% url 'dashboard' %}" class="logout-link">back to panel</a>
    </div>
  </div>

  <div class="gallery-grid">
    {% for item in items %}
      <button class="gallery-item"
              type="button"
              data-file-url="{{ item.url }}">
        <div class="gallery-video-thumb">
          <div class="video-play-icon">ðŸ“„</div>
          <div class="video-caption">{{ item.title }}</div>
        </div>
      </button>
    {% empty %}
      <p>ÐŸÐ¾ÐºÐ° Ð½ÐµÑ‚ Ñ„Ð°Ð¹Ð»Ð¾Ð²-ÑƒÐ»Ð¸Ðº.</p>
    {% endfor %}
  </div>
{% endblock %}

{% block modals %}
  {{ block.super }}
  <div class="gallery-backdrop" id="fileModal">
    <div class="gallery-modal">
      <div class="gallery-modal-header">
        <div class="gallery-modal-title">FILE VIEWER</div>
        <div class="gallery-modal-close" id="fileModalClose">&times;</div>
      </div>
      <div class="gallery-modal-body">
        <iframe id="fileFrame"
                style="width: 86vw; height: 78vh; border: none; border-radius: 6px;"
                src="">
        </iframe>
      </div>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'quest/js/files.js' %}"></script>
{% endblock %}
