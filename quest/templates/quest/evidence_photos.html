{% extends 'quest/base.html' %}
{% load static %}

{% block title %}EVIDENCE // PHOTOS{% endblock %}

{% block main %}
  <div class="main-header">
    <div class="main-title">EVIDENCE /// PHOTOS</div>
    <div class="main-meta">
      NODE: {{ node_code }} · <a href="{% url 'dashboard' %}" class="logout-link">back to panel</a>
    </div>
  </div>

  <div class="gallery-grid">
    {% for item in items %}
      <button class="gallery-item"
              data-type="photo"
              data-full-src="{{ item.url }}"
              data-title="{{ item.title }}">
        <img src="{{ item.url }}" alt="{{ item.title }}">
      </button>
    {% empty %}
      <p>Пока нет улик-фотографий.</p>
    {% endfor %}
  </div>
{% endblock %}

{% block modals %}
  {{ block.super }}
  <div class="gallery-backdrop" id="galleryBackdrop">
    <div class="gallery-modal">
      <div class="gallery-modal-header">
        <span class="gallery-modal-title" id="galleryTitle"></span>
        <span class="gallery-modal-close" id="galleryClose">&times;</span>
      </div>
      <div class="gallery-modal-body">
        <img id="galleryImage" src="" alt="" style="display:none;">
        <video id="galleryVideo" controls style="display:none;"></video>
      </div>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
  <script src="{% static 'quest/js/evidence.js' %}"></script>
{% endblock %}
